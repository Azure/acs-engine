apiVersion: v1
kind: Pod
metadata:
  name: kubectl-liveness
  labels:
    app: kubectl
spec:
  containers:
  - image: lachlanevenson/k8s-kubectl:latest
    name: kubectl-liveness
    command:
      - sleep
      - "1000000d"
    livenessProbe:
      exec:
        command:
        - kubectl
        - version
      initialDelaySeconds: 5
      periodSeconds: 5
  hostNetwork: true
  dnsPolicy: ClusterFirstWithHostNet